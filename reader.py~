# This is the reader component of the e-book/server system

import socket
from sys import argv

# Obtain the server's port number
script, server_port = argv
server_port = int(server_port)

# Determine the server's ip address
server_ip = '127.0.0.1'

# Prepare the buffer size
BUFFER_SIZE = 256

# Prepare the socket
sock = socket.socket(AF_INET, socket.SOCK_STREAM)	# TCP
sock.connect((server_ip, server_port))

# Send a message
sock.send("Hello from Ian.")

# receive acknowledgement
reply = sock.recv(BUFFER_SIZE)
print "Received data: %s" % reply

# close the connection
sock.close()
